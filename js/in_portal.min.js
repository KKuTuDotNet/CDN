/**
ⓒ 2017-2019 KKuTuDotNet. All Rights Reserved.
This program is distributed by terms of GNU Affero General Public License.
For more information, please check <https://www.gnu.org/licenses/agpl-3.0.html>.
*/


!function(){var e,r,t=400;$("#mobile").html();function s(){$.get("/servers",function(s){var i=0;e.list.empty(),r=s.list,s.list.forEach(function(r,s){var a,n=null===r?"x":"g",l="x"==n?"0 / 400":r+" / "+t,d=r/t*100;i+=r||0,"g"==n&&(d>=80?n="q":d>=60?n="p":d>=40&&(n="o")),e.list.append(a=$("<div>").addClass("server").attr("id","server-"+s).append($("<div>").addClass("server-status ss-"+n)).append($("<div>").addClass("server-name").html("<b>"+L["server_"+s]+"</b> 채널입장")).append($("<div>").addClass("server-stats st-"+n).html("<b>"+l+"</b> "+L["ss_"+n]))),"x"!=n?a.on("click",function(e){location.href="/?server="+s}):a.children(".server-enter").html("-")}),e.total.html("&nbsp;▼ "+i+"명 접속 중"),e.refi.removeClass("fa-spin"),e.start.prop("disabled",!1)})}$(document).ready(function(){e={list:$("#server-list"),total:$("#server-total"),start:$("#game-start"),ref:$("#server-refresh"),refi:$("#server-refresh>i")},$("#Background").attr("src","").addClass("jt-image").css({"background-image":"url(https://cdn.jsdelivr.net/npm/kkutudotnet@latest/img/kkutu/kkutudotnet.png)","background-size":"200px 200px"}),e.start.prop("disabled",!0).on("click",function(e){var s,i;if($("#account-info").html()===L.LOGIN)return $("#server-0").trigger("click");for(s=.9;s<1;s+=.01)for(i in r)if(r[i]<s*t)return void $("#server-"+i).trigger("click")}),e.ref.on("click",function(r){e.refi.hasClass("fa-spin")||(e.refi.addClass("fa-spin"),setTimeout(s,3e3))}),setInterval(function(){e.ref.trigger("click")},6e4),s()})}();