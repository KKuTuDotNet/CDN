/**
Rule the Words!, AlphaKKuTu Online. ⓒ 2017-2019 AlphaKKuTu. All Rights Reserved.
This program is distributed by terms of GNU Affero General Public License.
For more information, please check: <https://www.gnu.org/licenses/agpl-3.0.html>.
*/


!function(){var r,e,t=400;$("#mobile").html();function s(){$.get("/servers",function(s){var a=0;r.list.empty(),e=s.list,s.list.forEach(function(e,s){var i,n=null===e?"x":"g",l="x"==n?"0 / 400":e+" / "+t,c=e/t*100;a+=e||0,"g"==n&&(c>=80?n="q":c>=60?n="p":c>=40&&(n="o")),r.list.append(i=$("<div>").addClass("server").attr("id","server-"+s).append($("<div>").addClass("server-status ss-"+n)).append($("<div>").addClass("server-name").html("<b>"+L["server_"+s]+"</b> 서버입장")).append($("<div>").addClass("server-stats st-"+n).html("<b>"+l+"</b> "+L["ss_"+n]))),"x"!=n?i.on("click",function(r){location.href="/?server="+s}):i.children(".server-enter").html("-")}),r.total.html("&nbsp;▼ "+a+"명 접속 중"),r.refi.removeClass("fa-sync-alt fa-spin"),r.start.prop("disabled",!1)})}$(document).ready(function(){r={list:$("#server-list"),total:$("#server-total"),start:$("#game-start"),ref:$("#server-refresh"),refi:$("#server-refresh>i")},$("#Background").attr("src","").addClass("jt-image").css({"background-image":"url(https://cdn.jsdelivr.net/gh/KKuTuDotNet/CDN@latest/img/kkutu/alphakkutu.png)","background-size":"200px 200px"}),r.start.prop("disabled",!0).on("click",function(r){var s,a;if($("#account-info").html()===L.LOGIN)return $("#server-0").trigger("click");for(s=.9;s<1;s+=.01)for(a in e)if(e[a]<s*t)return void $("#server-"+a).trigger("click")}),r.ref.on("click",function(e){if(r.refi.hasClass("fa-sync-alt"))return alert(L.serverWait);r.refi.addClass("fa-sync-alt"),setTimeout(s,1e3)}),setInterval(function(){r.ref.trigger("click")},6e4),s()})}();