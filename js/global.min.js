/**
ⓒ 2017-2019 KKuTuDotNet. All Rights Reserved.
This program is distributed by terms of GNU Affero General Public License.
For more information, please check <https://www.gnu.org/licenses/agpl-3.0.html>.
*/


var L,global={};!function(){var o;$(document).ready(function(){$(document).bind("keydown",function(o){123==o.keyCode&&(o.preventDefault(),o.returnValue=!1)})}),document.onmousedown=function(o){if(2==o.button)return!1},status="우클릭은 허용되지 않습니다.";var e=setTimeout;function t(e){o[0],o[1];location.href="/login"}function i(o,t){var l=o.attr("id"),n=$("#ac-"+l);o.val()!=t&&((t=o.val())?$.get("http://jjo.kr/search?q="+encodeURI(t),function(e){var t,i=0;for(t in n.empty(),global["wl-"+l]=e.list.slice(0,10),global["wi-"+l]=-1,e.list){if(i++>=10)break;n.append($("<div>").attr("id","aci-"+e.list[t]._id).addClass("autocomp-item ellipse").html(e.list[t].profile.name).on("click",function(o){location.href="http://jjo.kr/users/"+$(o.currentTarget).attr("id").slice(4)}))}i?(n.show(),o.css("border-bottom-left-radius",0)):(n.hide(),o.css("border-bottom-left-radius",""))}):(n.hide(),o.css("border-bottom-left-radius",""))),e(i,200,o,t)}$.prototype.hotkey=function(o,e){var t=$(this);return(o||$(window)).on("keydown",function(o){o.shiftKey||o.keyCode==e&&(t.trigger("click"),o.preventDefault())}),t},$.prototype.color=function(o){return $(this).css({color:o})},$.prototype.bgColor=function(o){return $(this).css({"background-color":o})},$.cookie=function(o,e){if(void 0===e)return function(o){o+="=";for(var e=decodeURIComponent(document.cookie).split(";"),t=[],i=0;i<e.length;i++)0==e[i].trim().indexOf(o)&&(t=e[i].trim().split("="));return unescape(t.length>0?t[1]:"")}(o);var t,i,l,n;t=o,i=e,(n=new Date).setDate(n.getDate()+l),cookies=t+"="+escape(i)+";path=/ ",void 0!==l&&(cookies+=";expires="+n.toGMTString()+";sv=kkutudotnet; Secure"),document.cookie=cookies},$(document).ready(function(i){var l,n=$("#global-notice").hide(),a=$("#gn-content").html()||"";if(global.profile=$("#profile").html(),global.profile?global.profile=JSON.parse(global.profile):global.profile={},$.cookie("test","good"),"good"!=$.cookie("test")?n.html(a="쿠키 사용이 차단되어 있습니다. 로그인 관련 기능이 제한됩니다.<br>제한을 풀기 위해서는 브라우저 설정에서 쿠키 사용을 허용하도록 설정해야 합니다.<br>"+a):$.cookie("test",""),a.length>1&&n.show(),$("#click-here-to-close").on("click",function(o){n.hide()}),$(window).on("resize",function(e){o=[$(window).width(),$(window).height()],$("#Middle").css("margin-left",Math.max(0,.5*o[0]-500)),$("#Bottom").width(o[0])}).on("mousemove",function(e){null!=l&&$(".expl-active").css({left:Math.min(e.clientX+5,o[0]-l[0]-12),top:Math.min(e.clientY+23,o[1]-l[1]-12)})}).trigger("resize"),""==$.cookie("lc")&&$.cookie("lc","ko_KR"),global.profile.token)$("#account-info").html(global.profile.title||global.profile.name).on("click",function(o){confirm(L.ASK_LOGOUT)&&(location.href="/logout")});else{if(window.FB)try{FB.logout()}catch(i){e(function(){FB.logout()},1e3)}$("#account-info").html(L.LOGIN).on("click",t)}global.watchInput($("#quick-search-tf")),(global.expl=function(o){(o?o.find(".expl"):$(".expl")).parent().addClass("expl-mother").on("mouseenter",function(o){var e=$(o.currentTarget).children(".expl");l=[e.width(),e.height()],$(".expl-active").removeClass("expl-active"),e.addClass("expl-active")}).on("mouseleave",function(o){$(o.currentTarget).children(".expl").removeClass("expl-active")})})()}),global.watchInput=function(o){var t=o.attr("id");return o.after($("<div>").addClass("autocomp").attr("id","ac-"+t).css({"margin-top":o.outerHeight(),width:o.outerWidth()-6}).hide()).on("keydown",function(o){var e,i=38==o.keyCode?-1:40==o.keyCode?1:0;i&&(e=global["wl-"+t])&&(-1==global["wi-"+t]&&-1==i&&(i=0),$(".autocomp-select").removeClass("autocomp-select"),global["wi-"+t]+=i,global["wi-"+t]<0&&(global["wi-"+t]+=e.length),global["wi-"+t]>=e.length&&(global["wi-"+t]=0),$("#aci-"+e[global["wi-"+t]]._id).addClass("autocomp-select"),o.preventDefault())}),e(i,200,o,o.val())},global.zeroPadding=function(o,e){var t=o.toString();return"000000000000000".slice(0,Math.max(0,e-t.length))+t},global.onPopup=function(o){location.href=o}}();